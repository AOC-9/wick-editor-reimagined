</body>
</html>

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Loading...</title>
    </head>

    <!-- The Wick project is bundled here during HTML export. (see src/export/html/HTMLExport.js) -->
    <script>
        window.INJECTED_WICKPROJECT_DATA = '<!--INJECT_WICKPROJECTDATA_HERE-->';
    </script>

    <!-- The Wick Engine build is injected here during the engine build step (see gulpfile.js) -->
    <script>
        <!--INJECT_WICKENGINE_HERE-->
    </script>

    <script>
      window.onload = function () {
          Wick.WickFile.fromWickFile(window.INJECTED_WICKPROJECT_DATA, project => {
              playProject(project);
          }, 'base64');
      }

      function playProject (project) {
          document.title = project.name;

          project.view.canvasContainer = document.getElementById('wick-canvas-container');
          project.view.fitMode = 'fill';
          project.view.canvasBGColor = '#000000';

          window.onresize = function () {
              project.view.resize();
          }
          project.view.resize();
          this.project.view.prerender();

          project.focus = project.root;
          project.focus.timeline.playheadPosition = 1;

          project.publishedMode = true;
          project.play({
              onAfterTick: (() => {
                  project.view.render();
              }),
              onError: (error => {
                  console.error('Project threw an error!');
                  console.error(error);
              }),
          });
      }
    </script>

    <body>
        <style>
            body, html {
                margin: 0px;
                width: 100%;
                height: 100%;
            }

            #wick-canvas-container {
                width: 100%;
                height: 100%;
                overflow: hidden;
            }
        </style>
        <div id="wick-canvas-container"></div>
    </body>
</html>
